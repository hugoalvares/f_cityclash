<div zh-scroller class="container"
	ng-if="!!templateManager.container.template">

	<form class="zh-{{widget.name}}" role="form"
		ng-controller="FormController"
		zh-widget-events>

		<!-- Field groups -->
		<section class="zh-field-group"
			data-ng-repeat="fieldGroup in widget.fieldGroups"
			data-ng-if="fieldGroup.rows.length > 0">

			<!-- Field group label -->
      <label
				data-ng-if="fieldGroup.label"
      	data-ng-click="fieldGroup.opened = !fieldGroup.opened">
        <span class="zh-label zh-field-group-label"
        	data-ng-bind="fieldGroup.label"
        	data-ng-class="{ 'opened' : fieldGroup.opened && fieldGroup.collapsible, 'closed' : !fieldGroup.opened && fieldGroup.collapsible }"></span>
      </label>

			<!-- Field group rows -->
      <div class="field-group-rows"
      	data-ng-show="fieldGroup.opened">

				<div class="row"
					data-ng-repeat="row in fieldGroup.rows"
					data-ng-show="widget.isVisible">

					<div
						class="col-xs-{{field.class}} zh-field"
						data-ng-repeat="field in row.fields"
						data-ng-include src="templateManager.getTemplateDefaultFolder()+field.template"
						data-ng-if="field.aclIsVisible"
						data-ng-show="field.isVisible && field.showOnForm"
						data-zh-post-repeat="templateManager.container.refresh()"
					></div>

		  	</div>

      </div>
		</section>

	</form>
</div>


<!-- OLD FORM ORGANIZATION BASED ONLY ON ROWS

	<div class="form-group">
			<div class="row" ng-repeat="row in rows" ng-show="widget.isVisible || true">
				<div
					class="col-xs-{{field.class}} zh-field"
					ng-repeat="field in row.fields"
					ng-include src="templateManager.getTemplateDefaultFolder()+field.template"
					ng-show="field.isVisible && field.showOnForm"
					zh-post-repeat="templateManager.container.refresh()"
					>
			  	</div>
		  	</div>
		</div>

-->
